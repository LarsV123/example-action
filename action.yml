name: "Gradle Build Action"
description: "Build Java projects using Gradle"

inputs:
  java_version:
    description: "Java version to use"
    required: false
    default: "21"
  java_distribution:
    description: "JDK distribution to use"
    required: false
    default: "corretto"

runs:
  using: "composite"
  steps:
    - name: Check out code
      uses: actions/checkout@v4

    - name: Set up Java ${{ inputs.java_version }}
      uses: actions/setup-java@v4
      with:
        distribution: ${{ inputs.java_distribution }}
        java-version: ${{ inputs.java_version }}

    - name: Grant execute permission for Gradlew
      run: chmod +x ./gradlew

    - name: Build with Gradle
      run: ./gradlew ${{ inputs.gradle_tasks }}
